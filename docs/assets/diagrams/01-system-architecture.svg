<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 1081.31px; background-color: transparent;" viewBox="0 0 1081.30859375 2288.173583984375" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#666;stroke:#666;}#my-svg .marker.cross{stroke:#666;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#000000;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#000000;color:#000000;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#eee;stroke:#999;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#666!important;stroke-width:0;stroke:#666;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#666;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#666;fill:none;}#my-svg .edgeLabel{background-color:white;text-align:center;}#my-svg .edgeLabel p{background-color:white;}#my-svg .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#my-svg .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#my-svg .cluster rect{fill:hsl(0, 0%, 98.9215686275%);stroke:#707070;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(-160, 0%, 93.3333333333%);border:1px solid #707070;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#000000;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:white;text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:white;padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:white;fill:white;}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster" id="Storage_Layer" data-look="classic"><rect style="" x="8" y="1577" width="303.44140625" height="703.1736755371094"/><g class="cluster-label" transform="translate(106.775390625, 1577)"><foreignObject width="105.890625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Data Storage</p></span></div></foreignObject></g></g><g class="cluster" id="Worker_Layer" data-look="classic"><rect style="" x="577.6953125" y="1352" width="270.375" height="652.4054718017578"/><g class="cluster-label" transform="translate(635.265625, 1352)"><foreignObject width="155.234375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Processing Workers</p></span></div></foreignObject></g></g><g class="cluster" id="Message_Layer" data-look="classic"><rect style="" x="425.0625" y="1078" width="571.94140625" height="200"/><g class="cluster-label" transform="translate(647.369140625, 1078)"><foreignObject width="127.328125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Message Broker</p></span></div></foreignObject></g></g><g class="cluster" id="Backend_Layer" data-look="classic"><rect style="" x="555.65234375" y="780" width="517.65625" height="200"/><g class="cluster-label" transform="translate(743.99609375, 780)"><foreignObject width="140.96875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Backend Services</p></span></div></foreignObject></g></g><g class="cluster" id="Auth_Layer" data-look="classic"><rect style="" x="107.24609375" y="780" width="294.90625" height="200"/><g class="cluster-label" transform="translate(195.97265625, 780)"><foreignObject width="117.453125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Authentication</p></span></div></foreignObject></g></g><g class="cluster" id="Naglfar_Layer" data-look="classic"><rect style="" x="8" y="410" width="989.00390625" height="272"/><g class="cluster-label" transform="translate(405.439453125, 410)"><foreignObject width="194.125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Naglfar Protection Layer</p></span></div></foreignObject></g></g><g class="cluster" id="API_Layer" data-look="classic"><rect style="" x="300.92578125" y="160" width="257.75" height="176"/><g class="cluster-label" transform="translate(392.29296875, 160)"><foreignObject width="75.015625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>API Layer</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M429.801,86L429.801,92.167C429.801,98.333,429.801,110.667,429.801,123C429.801,135.333,429.801,147.667,429.801,157.333C429.801,167,429.801,174,429.801,177.5L429.801,181" id="L_Internet_Traefik_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Internet_Traefik_0" data-points="W3sieCI6NDI5LjgwMDc4MTI1LCJ5Ijo4Nn0seyJ4Ijo0MjkuODAwNzgxMjUsInkiOjEyM30seyJ4Ijo0MjkuODAwNzgxMjUsInkiOjE2MH0seyJ4Ijo0MjkuODAwNzgxMjUsInkiOjE4NX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M429.801,311L429.801,315.167C429.801,319.333,429.801,327.667,429.801,338C429.801,348.333,429.801,360.667,429.801,373C429.801,385.333,429.801,397.667,429.801,407.333C429.801,417,429.801,424,429.801,427.5L429.801,431" id="L_Traefik_ValidationService_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Traefik_ValidationService_0" data-points="W3sieCI6NDI5LjgwMDc4MTI1LCJ5IjozMTF9LHsieCI6NDI5LjgwMDc4MTI1LCJ5IjozMzZ9LHsieCI6NDI5LjgwMDc4MTI1LCJ5IjozNzN9LHsieCI6NDI5LjgwMDc4MTI1LCJ5Ijo0MTB9LHsieCI6NDI5LjgwMDc4MTI1LCJ5Ijo0MzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M299.801,621.577L282.479,631.648C265.156,641.718,230.512,661.859,213.189,680.096C195.867,698.333,195.867,714.667,195.867,731C195.867,747.333,195.867,763.667,198.168,775.438C200.469,787.209,205.071,794.419,207.372,798.024L209.673,801.628" id="L_ValidationService_AuthService_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ValidationService_AuthService_0" data-points="W3sieCI6Mjk5LjgwMDc4MTI1LCJ5Ijo2MjEuNTc3MDAzMzU2MzIxfSx7IngiOjE5NS44NjcxODc1LCJ5Ijo2ODJ9LHsieCI6MTk1Ljg2NzE4NzUsInkiOjczMX0seyJ4IjoxOTUuODY3MTg3NSwieSI6NzgwfSx7IngiOjIxMS44MjUxOTUzMTI1LCJ5Ijo4MDV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M307.573,805L310.233,800.833C312.893,796.667,318.212,788.333,320.872,776C323.531,763.667,323.531,747.333,323.531,731C323.531,714.667,323.531,698.333,326.377,686.525C329.222,674.717,334.913,667.435,337.758,663.793L340.603,660.152" id="L_AuthService_ValidationService_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_AuthService_ValidationService_0" data-points="W3sieCI6MzA3LjU3MzI0MjE4NzUsInkiOjgwNX0seyJ4IjozMjMuNTMxMjUsInkiOjc4MH0seyJ4IjozMjMuNTMxMjUsInkiOjczMX0seyJ4IjozMjMuNTMxMjUsInkiOjY4Mn0seyJ4IjozNDMuMDY2MDkwMzAzMzA4ODQsInkiOjY1N31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M299.801,596.373L262.97,610.644C226.139,624.915,152.478,653.458,115.647,675.895C78.816,698.333,78.816,714.667,78.816,731C78.816,747.333,78.816,763.667,78.816,788.5C78.816,813.333,78.816,846.667,78.816,880C78.816,913.333,78.816,946.667,78.816,971.5C78.816,996.333,78.816,1012.667,78.816,1029C78.816,1045.333,78.816,1061.667,78.816,1086.5C78.816,1111.333,78.816,1144.667,78.816,1178C78.816,1211.333,78.816,1244.667,78.816,1267.5C78.816,1290.333,78.816,1302.667,78.816,1315C78.816,1327.333,78.816,1339.667,78.816,1360.5C78.816,1381.333,78.816,1410.667,78.816,1442C78.816,1473.333,78.816,1506.667,78.816,1529.5C78.816,1552.333,78.816,1564.667,78.816,1589.784C78.816,1614.901,78.816,1652.802,78.816,1692.703C78.816,1732.604,78.816,1774.505,78.816,1812.122C78.816,1849.739,78.816,1883.072,78.816,1914.405C78.816,1945.739,78.816,1975.072,78.816,1997.905C78.816,2020.739,78.816,2037.072,81.388,2052.905C83.96,2068.737,89.103,2084.069,91.675,2091.734L94.246,2099.4" id="L_ValidationService_Redis_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ValidationService_Redis_0" data-points="W3sieCI6Mjk5LjgwMDc4MTI1LCJ5Ijo1OTYuMzcyNjEyNzQwOTUxOH0seyJ4Ijo3OC44MTY0MDYyNSwieSI6NjgyfSx7IngiOjc4LjgxNjQwNjI1LCJ5Ijo3MzF9LHsieCI6NzguODE2NDA2MjUsInkiOjc4MH0seyJ4Ijo3OC44MTY0MDYyNSwieSI6ODgwfSx7IngiOjc4LjgxNjQwNjI1LCJ5Ijo5ODB9LHsieCI6NzguODE2NDA2MjUsInkiOjEwMjl9LHsieCI6NzguODE2NDA2MjUsInkiOjEwNzh9LHsieCI6NzguODE2NDA2MjUsInkiOjExNzh9LHsieCI6NzguODE2NDA2MjUsInkiOjEyNzh9LHsieCI6NzguODE2NDA2MjUsInkiOjEzMTV9LHsieCI6NzguODE2NDA2MjUsInkiOjEzNTJ9LHsieCI6NzguODE2NDA2MjUsInkiOjE0NDB9LHsieCI6NzguODE2NDA2MjUsInkiOjE1NDB9LHsieCI6NzguODE2NDA2MjUsInkiOjE1Nzd9LHsieCI6NzguODE2NDA2MjUsInkiOjE2OTAuNzAyNzM1OTAwODc5fSx7IngiOjc4LjgxNjQwNjI1LCJ5IjoxODE2LjQwNTQ3MTgwMTc1Nzh9LHsieCI6NzguODE2NDA2MjUsInkiOjE5MTYuNDA1NDcxODAxNzU3OH0seyJ4Ijo3OC44MTY0MDYyNSwieSI6MjAwNC40MDU0NzE4MDE3NTc4fSx7IngiOjc4LjgxNjQwNjI1LCJ5IjoyMDUzLjQwNTQ3MTgwMTc1OH0seyJ4Ijo5NS41MTg0OTAwODcyMzIzNCwieSI6MjEwMy4xOTI0MzgzNTUyMzM3fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M471.062,657L472.611,661.167C474.16,665.333,477.258,673.667,478.807,686C480.355,698.333,480.355,714.667,480.355,731C480.355,747.333,480.355,763.667,480.355,788.5C480.355,813.333,480.355,846.667,480.355,880C480.355,913.333,480.355,946.667,480.355,971.5C480.355,996.333,480.355,1012.667,480.355,1029C480.355,1045.333,480.355,1061.667,496.831,1076.919C513.306,1092.171,546.257,1106.342,562.733,1113.427L579.208,1120.512" id="L_ValidationService_Kafka_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ValidationService_Kafka_0" data-points="W3sieCI6NDcxLjA2MjMyNzY2NTQ0MTE2LCJ5Ijo2NTd9LHsieCI6NDgwLjM1NTQ2ODc1LCJ5Ijo2ODJ9LHsieCI6NDgwLjM1NTQ2ODc1LCJ5Ijo3MzF9LHsieCI6NDgwLjM1NTQ2ODc1LCJ5Ijo3ODB9LHsieCI6NDgwLjM1NTQ2ODc1LCJ5Ijo4ODB9LHsieCI6NDgwLjM1NTQ2ODc1LCJ5Ijo5ODB9LHsieCI6NDgwLjM1NTQ2ODc1LCJ5IjoxMDI5fSx7IngiOjQ4MC4zNTU0Njg3NSwieSI6MTA3OH0seyJ4Ijo1ODIuODgyODEyNSwieSI6MTEyMi4wOTI1OTY2MzY4MjAyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M559.801,613.931L581.512,625.275C603.223,636.62,646.645,659.31,668.355,678.822C690.066,698.333,690.066,714.667,690.066,731C690.066,747.333,690.066,763.667,690.066,779.333C690.066,795,690.066,810,690.066,817.5L690.066,825" id="L_ValidationService_BookstoreUS_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ValidationService_BookstoreUS_0" data-points="W3sieCI6NTU5LjgwMDc4MTI1LCJ5Ijo2MTMuOTMwNTk5NzQ3ODUzOH0seyJ4Ijo2OTAuMDY2NDA2MjUsInkiOjY4Mn0seyJ4Ijo2OTAuMDY2NDA2MjUsInkiOjczMX0seyJ4Ijo2OTAuMDY2NDA2MjUsInkiOjc4MH0seyJ4Ijo2OTAuMDY2NDA2MjUsInkiOjgyOX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M559.801,580.728L622.983,597.607C686.165,614.486,812.53,648.243,875.712,673.288C938.895,698.333,938.895,714.667,938.895,731C938.895,747.333,938.895,763.667,938.895,779.333C938.895,795,938.895,810,938.895,817.5L938.895,825" id="L_ValidationService_BookstoreEU_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ValidationService_BookstoreEU_0" data-points="W3sieCI6NTU5LjgwMDc4MTI1LCJ5Ijo1ODAuNzI4Mzc3NjMxODIxMn0seyJ4Ijo5MzguODk0NTMxMjUsInkiOjY4Mn0seyJ4Ijo5MzguODk0NTMxMjUsInkiOjczMX0seyJ4Ijo5MzguODk0NTMxMjUsInkiOjc4MH0seyJ4Ijo5MzguODk0NTMxMjUsInkiOjgyOX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M690.066,931L690.066,939.167C690.066,947.333,690.066,963.667,690.066,980C690.066,996.333,690.066,1012.667,690.066,1029C690.066,1045.333,690.066,1061.667,690.869,1073.35C691.671,1085.033,693.276,1092.067,694.078,1095.584L694.881,1099.1" id="L_BookstoreUS_Kafka_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BookstoreUS_Kafka_0" data-points="W3sieCI6NjkwLjA2NjQwNjI1LCJ5Ijo5MzF9LHsieCI6NjkwLjA2NjQwNjI1LCJ5Ijo5ODB9LHsieCI6NjkwLjA2NjQwNjI1LCJ5IjoxMDI5fSx7IngiOjY5MC4wNjY0MDYyNSwieSI6MTA3OH0seyJ4Ijo2OTUuNzcwNTA3ODEyNSwieSI6MTEwM31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M938.895,931L938.895,939.167C938.895,947.333,938.895,963.667,938.895,980C938.895,996.333,938.895,1012.667,938.895,1029C938.895,1045.333,938.895,1061.667,923.502,1076.644C908.11,1091.621,877.325,1105.242,861.933,1112.052L846.541,1118.862" id="L_BookstoreEU_Kafka_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BookstoreEU_Kafka_0" data-points="W3sieCI6OTM4Ljg5NDUzMTI1LCJ5Ijo5MzF9LHsieCI6OTM4Ljg5NDUzMTI1LCJ5Ijo5ODB9LHsieCI6OTM4Ljg5NDUzMTI1LCJ5IjoxMDI5fSx7IngiOjkzOC44OTQ1MzEyNSwieSI6MTA3OH0seyJ4Ijo4NDIuODgyODEyNSwieSI6MTEyMC40ODA4NTg2MzkxMDU1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M712.883,1253L712.883,1257.167C712.883,1261.333,712.883,1269.667,712.883,1280C712.883,1290.333,712.883,1302.667,712.883,1315C712.883,1327.333,712.883,1339.667,712.883,1349.333C712.883,1359,712.883,1366,712.883,1369.5L712.883,1373" id="L_Kafka_NagWorker_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Kafka_NagWorker_0" data-points="W3sieCI6NzEyLjg4MjgxMjUsInkiOjEyNTN9LHsieCI6NzEyLjg4MjgxMjUsInkiOjEyNzh9LHsieCI6NzEyLjg4MjgxMjUsInkiOjEzMTV9LHsieCI6NzEyLjg4MjgxMjUsInkiOjEzNTJ9LHsieCI6NzEyLjg4MjgxMjUsInkiOjEzNzd9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M712.883,1503L712.883,1509.167C712.883,1515.333,712.883,1527.667,712.883,1540C712.883,1552.333,712.883,1564.667,640.794,1586.665C568.705,1608.663,424.526,1640.325,352.437,1656.157L280.348,1671.988" id="L_NagWorker_Neo4j_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_NagWorker_Neo4j_0" data-points="W3sieCI6NzEyLjg4MjgxMjUsInkiOjE1MDN9LHsieCI6NzEyLjg4MjgxMjUsInkiOjE1NDB9LHsieCI6NzEyLjg4MjgxMjUsInkiOjE1Nzd9LHsieCI6Mjc2LjQ0MTQwNjI1LCJ5IjoxNjcyLjg0NTg4NjE0Nzg2OTF9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M195.129,1779.405L195.129,1785.572C195.129,1791.739,195.129,1804.072,264.069,1823.554C333.009,1843.036,470.888,1869.666,539.828,1882.981L608.768,1896.297" id="L_Neo4j_AnalyticsWorker_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Neo4j_AnalyticsWorker_0" data-points="W3sieCI6MTk1LjEyODkwNjI1LCJ5IjoxNzc5LjQwNTQ3MTgwMTc1Nzh9LHsieCI6MTk1LjEyODkwNjI1LCJ5IjoxODE2LjQwNTQ3MTgwMTc1Nzh9LHsieCI6NjEyLjY5NTMxMjUsInkiOjE4OTcuMDU1MDYyNTA2ODAxM31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M712.883,1979.405L712.883,1983.572C712.883,1987.739,712.883,1996.072,626.965,2008.405C541.047,2020.739,369.211,2037.072,278.686,2053.271C188.162,2069.469,178.948,2085.533,174.341,2093.565L169.735,2101.597" id="L_AnalyticsWorker_Redis_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_AnalyticsWorker_Redis_0" data-points="W3sieCI6NzEyLjg4MjgxMjUsInkiOjE5NzkuNDA1NDcxODAxNzU3OH0seyJ4Ijo3MTIuODgyODEyNSwieSI6MjAwNC40MDU0NzE4MDE3NTc4fSx7IngiOjE5Ny4zNzUsInkiOjIwNTMuNDA1NDcxODAxNzU4fSx7IngiOjE2Ny43NDQ0ODY1ODQzNDUxNywieSI6MjEwNS4wNjY2MDQ2NDYzNTY2fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(429.80078125, 123)"><g class="label" data-id="L_Internet_Traefik_0" transform="translate(-25.5546875, -12)"><foreignObject width="51.109375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>HTTPS</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(429.80078125, 373)"><g class="label" data-id="L_Traefik_ValidationService_0" transform="translate(-20.4765625, -12)"><foreignObject width="40.953125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>HTTP</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(195.8671875, 731)"><g class="label" data-id="L_ValidationService_AuthService_0" transform="translate(-56.859375, -24)"><foreignObject width="113.71875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>No auth-token<br />302 Redirect</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(323.53125, 731)"><g class="label" data-id="L_AuthService_ValidationService_0" transform="translate(-50.8046875, -24)"><foreignObject width="101.609375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>auth-token<br />302 Redirect</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(78.81640625, 1440)"><g class="label" data-id="L_ValidationService_Redis_0" transform="translate(-52.546875, -24)"><foreignObject width="105.09375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Check blocks<br />&lt; 1ms</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(480.35546875, 880)"><g class="label" data-id="L_ValidationService_Kafka_0" transform="translate(-55.296875, -24)"><foreignObject width="110.59375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Async publish<br />metadata</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(690.06640625, 731)"><g class="label" data-id="L_ValidationService_BookstoreUS_0" transform="translate(-54.9296875, -24)"><foreignObject width="109.859375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Proxy request<br />Client-side LB</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(938.89453125, 731)"><g class="label" data-id="L_ValidationService_BookstoreEU_0" transform="translate(-54.9296875, -24)"><foreignObject width="109.859375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Proxy request<br />Client-side LB</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(690.06640625, 1029)"><g class="label" data-id="L_BookstoreUS_Kafka_0" transform="translate(-49.5703125, -24)"><foreignObject width="99.140625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>User actions<br />with email</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(938.89453125, 1029)"><g class="label" data-id="L_BookstoreEU_Kafka_0" transform="translate(-49.5703125, -24)"><foreignObject width="99.140625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>User actions<br />with email</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(712.8828125, 1315)"><g class="label" data-id="L_Kafka_NagWorker_0" transform="translate(-37.5078125, -12)"><foreignObject width="75.015625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Consume</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(712.8828125, 1540)"><g class="label" data-id="L_NagWorker_Neo4j_0" transform="translate(-47.0859375, -12)"><foreignObject width="94.171875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Write graph</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(195.12890625, 1816.4054718017578)"><g class="label" data-id="L_Neo4j_AnalyticsWorker_0" transform="translate(-61, -12)"><foreignObject width="122" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Pattern queries</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(197.375, 2053.405471801758)"><g class="label" data-id="L_AnalyticsWorker_Redis_0" transform="translate(-49.0625, -24)"><foreignObject width="98.125" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Write blocks<br />TTL: 5min</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-Internet-0" transform="translate(429.80078125, 47)"><rect class="basic label-container" style="fill:#e1f5ff !important" x="-80.2578125" y="-39" width="160.515625" height="78"/><g class="label" style="" transform="translate(-50.2578125, -24)"><rect/><foreignObject width="100.515625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>INTERNET<br />Public Traffic</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Traefik-1" transform="translate(429.80078125, 248)"><rect class="basic label-container" style="fill:#ffe6cc !important" x="-93.875" y="-63" width="187.75" height="126"/><g class="label" style="" transform="translate(-63.875, -48)"><rect/><foreignObject width="127.75" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>API Gateway<br />Traefik v3.6<br />TLS Termination<br />Routing</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-ValidationService-2" transform="translate(429.80078125, 546)"><rect class="basic label-container" style="fill:#d5e8d4 !important" x="-130" y="-111" width="260" height="222"/><g class="label" style="" transform="translate(-100, -96)"><rect/><foreignObject width="200" height="192"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Naglfar Validation Service<br />.NET 10.0<br />1. Check auth-token<br />2. Validate with Redis<br />3. Capture metadata<br />4. Publish to Kafka<br />5. Proxy to backend</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-AuthService-3" transform="translate(259.69921875, 880)"><rect class="basic label-container" style="fill:#fff4cc !important" x="-102.2421875" y="-75" width="204.484375" height="150"/><g class="label" style="" transform="translate(-72.2421875, -60)"><rect/><foreignObject width="144.484375" height="120"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Auth Service<br />Python FastAPI<br />3rd Party<br />E-token validation<br />JWT generation</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-BookstoreUS-4" transform="translate(690.06640625, 880)"><rect class="basic label-container" style="fill:#f8cecc !important" x="-99.4140625" y="-51" width="198.828125" height="102"/><g class="label" style="" transform="translate(-69.4140625, -36)"><rect/><foreignObject width="138.828125" height="72"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Book Store US<br />Inventory, Cart<br />Checkout, Orders</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-BookstoreEU-5" transform="translate(938.89453125, 880)"><rect class="basic label-container" style="fill:#f8cecc !important" x="-99.4140625" y="-51" width="198.828125" height="102"/><g class="label" style="" transform="translate(-69.4140625, -36)"><rect/><foreignObject width="138.828125" height="72"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Book Store EU<br />Inventory, Cart<br />Checkout, Orders</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Kafka-6" transform="translate(712.8828125, 1178)"><rect class="basic label-container" style="fill:#e1d5e7 !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Apache Kafka<br />Topics:<br />- naglfar-validation-topic<br />- naglfar-user-journey-topic</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-NagWorker-7" transform="translate(712.8828125, 1440)"><rect class="basic label-container" style="fill:#dae8fc !important" x="-98.390625" y="-63" width="196.78125" height="126"/><g class="label" style="" transform="translate(-68.390625, -48)"><rect/><foreignObject width="136.78125" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Naglfar Worker<br />.NET Consumer<br />Kafka → Neo4j<br />Event correlation</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-AnalyticsWorker-8" transform="translate(712.8828125, 1916.4054718017578)"><rect class="basic label-container" style="fill:#dae8fc !important" x="-100.1875" y="-63" width="200.375" height="126"/><g class="label" style="" transform="translate(-70.1875, -48)"><rect/><foreignObject width="140.375" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Analytics Worker<br />Pattern Detection<br />Neo4j → Redis<br />Abuse detection</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Neo4j-9" transform="translate(195.12890625, 1690.702735900879)"><path d="M0,14.135158626684051 a81.3125,14.135158626684051 0,0,0 162.625,0 a81.3125,14.135158626684051 0,0,0 -162.625,0 l0,149.13515862668405 a81.3125,14.135158626684051 0,0,0 162.625,0 l0,-149.13515862668405" class="basic label-container" style="fill:#ffe6cc !important" transform="translate(-81.3125, -88.70273794002607)"/><g class="label" style="" transform="translate(-73.8125, -50)"><rect/><foreignObject width="147.625" height="120"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Neo4j<br />Graph Database<br />Request metadata<br />User journeys<br />Relationships</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Redis-10" transform="translate(121.5546875, 2178.7895736694336)"><path d="M0,13.922736084187205 a78.5546875,13.922736084187205 0,0,0 157.109375,0 a78.5546875,13.922736084187205 0,0,0 -157.109375,0 l0,124.9227360841872 a78.5546875,13.922736084187205 0,0,0 157.109375,0 l0,-124.9227360841872" class="basic label-container" style="fill:#ffe6cc !important" transform="translate(-78.5546875, -76.3841041262808)"/><g class="label" style="" transform="translate(-71.0546875, -38)"><rect/><foreignObject width="142.109375" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Redis Cache<br />Blocked IPs<br />Blocked tokens<br />Raw / Bloom filter</p></span></div></foreignObject></g></g></g></g></g></svg>